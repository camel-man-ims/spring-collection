# 섹션 10 - 포인트컷 지시자

## 1. Pointcut 지시자(PCD, PointCut Designator)

### 1-1) 지시자 설명

* AspectJ는 Pointcut을 편리하게 표현하게 위해 표현식을 제공한다.
    * Pointcut 표현식은 pointuct expression, 즉 AspectJ가 제공하는 Pointcut 표현식을 줄여서 말하는 것이다.
* 지시자의 종류
    * execution
        * 메소드 실행 조인 포인트를 매칭한다.
        * 가장 많이 사용하고, 가장 복잡하다.
        * 나머지는 잘 사용하지 않는다.
    * within
        * 특정 타입내 조인 포인트를 실행한다.
    * args
        * 인자가 주어진 인스턴스인 조인 포인트
    * this
        * Spring Bean 객체(Spring AOP 프록시)를 대상으로 하는 조인 포인트
    * target
        * Target객체(Spring AOP가 가르키는 실제 객체)를 대상으로 하는 조인 포인트
    * @target
        * 실행 객체의 클래스에 주어진 타입의 annotation이 있는 조인 포인트
    * @within
        * 주어진 annotation이 있는 타입 내 joinpoint
    * @annotation
        * 메소드가 주어진 annotation을 갖고 있는 joinpoint를 매칭
    * @args
        * 전달된 실제 인수의 런타임 타입이 주어진 타입의 annotation을 갖는 joinpoint
    * bean
        * bean의 이름으로 포인트컷 지정

### 1-2) execution

* 기반 클래스들
    * [classAop @interface](../src/main/java/hello/aop/member/annotation/ClassAop.java)
    * [methodAop @interface](../src/main/java/hello/aop/member/annotation/MethodAop.java)
    * [MemberSerivce interface](../src/main/java/hello/aop/member/MemberService.java)
    * [MemberServiceImpl interface](../src/main/java/hello/aop/member/MemberServiceImpl.java)
* [execution 실행](../src/test/java/hello/aop/pointcut/ExecutionTest.java)
* `AspectJExpressionPointcut`
    * 포인트컷 표현식을 처리해주는 클래스
* 정석
    * `"execution(public String hello.aop.member.MemberServiceImpl.hello(String))"`
    * 접근제어자? 반환타입 선언타입?(패키지까지) 메서드 (파라미터) 예외?
        * ?는 생략할 수 있다.
* *는 wildcard처럼 지정할 수 있다.
* (..)는 파라미터 수가 상관없다는 것이다.
* 만약 hello패키지와 hello하위 패키지를 지정하고 싶다면, `hello..*`와 같이 입력해준다.